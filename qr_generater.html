<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>"Покупка" места</title>
    <link rel="stylesheet" href="geom.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>
    <h1>Выберите номер места:</h1>
    <div>
        <div class="wrap" id='button_list'>

        </div>
    </div>
    <div>
        <img src="https://chart.googleapis.com/chart?cht=qr&chl=текст по умолчанию&chs=180x180&choe=UTF-8&chld=L|2" alt="qr code" id="code" style="visibility: hidden">
    </div>
</body>
</html>

<script type="text/javascript">
    let parent = document.getElementById('button_list');
    for(let i=0; i<30; i++){
        let btn = document.createElement('button');
        btn.innerText = i+1;
        btn.style.width = '40px'
        btn.style.height = '38px'
        btn.setAttribute('value', i+1)
        btn.setAttribute('onclick',"creatQr(this.value);")
        parent.appendChild(btn);
    }
    
    function creatQr(number){
        const qr = document.getElementById('code')
        qr.src = 'https://chart.googleapis.com/chart?cht=qr&chl=https://jienivets.github.io/FanovParkingServices/?id='+number+'&chs=180x180&choe=UTF-8&chld=L|2'
        qr.style = 'visibility: 1; width: 250px; height: 250px'
    }
</script>